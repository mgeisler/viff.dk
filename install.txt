.. -*- coding: utf-8 -*-

====================
 Installation Guide
====================

VIFF is written in Python and uses the Twisted framework for
asynchronous communication, (optionally) python-gnutls for secure
communication, ConfigObj for configuration files, and GMPY for fast
bignum arithmetic. You can find these components here:

:Python:         http://python.org/
:Twisted:        http://twistedmatrix.com/
:python-gnutls:  http://pypi.python.org/pypi/python-gnutls/
:ConfigObj:      http://voidspace.org.uk/python/configobj.html
:GMPY:           http://code.google.com/p/gmpy/

VIFF has been succesfully tested with the following versions:

:Python:         2.4.1 and 2.5.0
:Twisted:        2.5.0
:python-gnutls:  1.1.4
:ConfigObj:      4.4.0
:GMPY:           1.0alpha and 1.0.2

Please `report back`_ if you find that VIFF works with other versions
than the ones listed here.

Below you will find installation instructions for the different
platforms on which we `test VIFF`_.

.. _report back: mailto:viff-devel@viff.dk
.. _test VIFF: http://buildbot.viff.dk/


Windows
-------

(To be writtenâ€¦)

Mac OS X
--------

This describes installation of viff on Max OS X 10.5.

1) Install the full MacPython 2.5 `MacPython`_ (the
   Python-installation which comes with Mac OS X is not entirely
   up-to-date).

2) Install Twisted from source (http://twistedmatrix.com/). Notice
   again that Mac OS X comes with a pre-installed version of Twisted,
   but this is not the full Twisted installation. After installation
   change your ``PYTHONPATH`` (in your ``~/.bash_profile``) to

   .. sourcecode:: sh

      PATH="/Library/Python/2.5/site-packages:${PATH}"

3) Install python-gnutls
   a) Install `XCode`_  from Apple which provides the gcc compiler
   b) Install `gnutls`_ (and required packages) from source
   c) Install `python-gnutls`_

4) Install ConfigObj (http://voidspace.org.uk/python/configobj.html)

5) Install `GMPY from Google`_ following the instructions in
   ``gmpy-1.02.macosx.README.txt`` (under Downloads)

6) Install viff from source (see below). If you prefer you can just
   install it in site-packages, it makes no difference. For
   developers, it is perhaps a better solution in to create a symbolic
   link from the site-packages directory to the viff python files
   (``viff/viff/``), as otherwise you need to re-install viff each time
   the project is modified.

.. _MacPython: http://www.pythonmac.org
.. _XCode: http://developer.apple.com/tools/xcode/
.. _gnutls: http://www.gnu.org/software/gnutls/manual/gnutls.html
            #Downloading-and-Installing
.. _python-gnutls: http://pypi.python.org/pypi/python-gnutls/
.. _GMPY from Google: http://code.google.com/p/gmpy/

GNU/Linux
---------

VIFF was originally developed on GNU/Linux and is well supported
there. When installing the VIFF dependencies you either have the
option of using your `package manager`_ or to install from source. VIFF
itself must be installed `from source`_.

.. _package manager: `Using a Package Manager`_
.. _from source: `Installing from Source`_

Using a Package Manager
~~~~~~~~~~~~~~~~~~~~~~~

Debian Lenny (testing)
  You can install all dependencies by the command

  .. sourcecode:: sh

     aptitude install python-twisted-core python-gnutls \
                      python-configobj python-gmpy

  The backslash indicates that both lines should be typed as a single
  line in the terminal.

Ubuntu
  We expect that the instructions for Debian also apply here.


If you know how to install using other package managers, please `let
us know`_.

.. _let us know: viff-devel@viff.dk

VIFF itself is not yet packaged for any distribution, so you will have
to install it from source as described below.


Installing from Source
~~~~~~~~~~~~~~~~~~~~~~

If you do not have permission to use the package manager or simply
prefer to install from source, then (assuming that Python is already
installed) one can easily install VIFF and its dependencies by
downloading and unpacking each of them and executing

.. sourcecode:: sh

   python setup.py install --home=$HOME/opt

That will install everything under the given prefix. With the above
command the Python modules are installed into

.. sourcecode:: sh

   $HOME/opt/lib/python

and some programs are installed into

.. sourcecode:: sh

   $HOME/opt/bin

You should add the first directory to the ``PYTHONPATH`` environment
variable and the latter to the ``PATH`` environment variable.

Bash uses can normally do this by adding

.. sourcecode:: bash

   export PYTHONPATH=$PYTHONPATH:$HOME/opt/lib/python
   export PATH=$PATH:$HOME/opt/bin

to their ``~/.bash_profile`` file, creating it if it is not already
there. Consult the documentation for your shell to learn how
environment variables are set.


.. header:: `Return to the VIFF homepage <index.html>`__.
.. include:: layout.rst
